<ion-header>
  <div class="header primary-bg">
    <ion-toolbar style="padding-top: 25px; --background: transparent;">
      <ion-title>
        <ion-icon name="play-outline"></ion-icon> BeaM
      </ion-title>
      <ion-buttons slot="end">
        <ion-button>
          <div *ngIf="!userProfileImage">
            <ion-icon name="person-outline"></ion-icon>
            Log In
          </div>
          <img *ngIf="userProfileImage" [src]="userProfileImage" alt="User Profile" style="width: 32px; height: 32px; border-radius: 50%;" />
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </div>
</ion-header>

<ion-content [fullscreen]="true" [class.has-player]="selectedTrackUri | async">
  <div class="body ion-padding">

    <!-- Top buttons for moods -->
    <div class="top-swipe-buttons">
      <swiper-container 
        space-between="10" 
        slides-per-view="auto"
        free-mode="true"
        [breakpoints]="breakpoints"
      >
        <swiper-slide>
          <ion-button class="mood">Energize</ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="mood">Relax</ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="mood">Feel good</ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="mood">Work out</ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="mood">Commute</ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="mood">Party</ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="mood">Romance</ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="mood">Focus</ion-button>
        </swiper-slide>
      </swiper-container>
    </div>

    <!-- Quick picks portion -->
    <div class="quick-picks-portion">
      <h3>Quick Picks</h3>
      <swiper-container 
        slides-per-view="1.2" 
        space-between="15"
        [grid]="{ rows: 4, fill: 'row' }"
      >
        <swiper-slide *ngFor="let track of quickPicks">
          <ion-button class="quick-song-pick" fill="clear" (click)="playSong(track.uri)">
            <ion-item lines="none">
              <ion-thumbnail slot="start">
                <img [src]="track.album.images[0]?.url" [alt]="track.name" />
              </ion-thumbnail>
              <ion-label>
                <h4>{{ track.name }}</h4>
                <p>{{ track.artists[0]?.name }}</p>
              </ion-label>
              <ion-button class="ellipsis-btn" fill="clear">
                <ion-icon name="ellipsis-vertical" slot="end"></ion-icon>
              </ion-button>
            </ion-item>
          </ion-button>
        </swiper-slide>
      </swiper-container>
    </div>

    <!-- Recommended Albums -->
    <div class="quick-pick-albums-portion">
      <h3>Recommended Albums</h3>
      <swiper-container
        slides-per-view="2.2"
        space-between="10"
        free-mode="true"
      >
        <swiper-slide *ngFor="let album of quickPickAlbums">
          <ion-button class="saved-playlist" (click)="openAlbum(album.id)">
            <div class="playlist-content">
              <ion-thumbnail class="saved-playlist-thumbnail">
                <img [src]="album.images?.[0]?.url" [alt]="album.name" />
              </ion-thumbnail>
              <ion-label>
                <h4>{{ album.name }}</h4>
                <p>
                  <span *ngFor="let artist of album.artists; let last = last">
                    {{ artist.name }}<span *ngIf="!last">, </span>
                  </span>
                </p>
              </ion-label>
            </div>
          </ion-button>
        </swiper-slide>
      </swiper-container>
    </div>

    <!-- Personal playlists portion -->
    <div class="from-your-library-portion">
      <h3>From Your Library</h3>
      <swiper-container
        slides-per-view="2.2"
        space-between="10"
        free-mode="true"
      >
        <swiper-slide *ngFor="let playlist of userPlaylists">
          <ion-button class="saved-playlist">
            <div class="playlist-content">
              <ion-thumbnail class="saved-playlist-thumbnail">
                <img [src]="playlist.images?.[0]?.url" [alt]="playlist.name" />
              </ion-thumbnail>
              <ion-label>
                <h4>{{ playlist.name }}</h4>
                <p>{{ playlist.owner.display_name }}</p>
              </ion-label>
            </div>
          </ion-button>
        </swiper-slide>
      </swiper-container>
    </div>

    <!-- New releases for you portion -->
    <div class="from-your-library-portion">
      <h3>New Releases For You</h3>
      <swiper-container
        slides-per-view="2.2"
        space-between="10"
        free-mode="true"
      >
        <swiper-slide>
          <ion-button class="saved-playlist">
            <div class="playlist-content">
              <ion-thumbnail class="saved-playlist-thumbnail">
                <img src="assets/quick-picks-pics/yorushika-plagiarism-album.png" alt="your playlist 1">
              </ion-thumbnail>
              <ion-label>
                <h4>J-Poppers</h4>
                <p>Rovultion</p>
              </ion-label>
            </div>
          </ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="saved-playlist">
            <div class="playlist-content">
              <ion-thumbnail class="saved-playlist-thumbnail">
                <img src="assets/quick-picks-pics/yorushika-haru.jpg" alt="your playlist 2">
              </ion-thumbnail>
              <ion-label>
                <h4>Different</h4>
                <p>Roi</p>
              </ion-label>
            </div>
          </ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="saved-playlist">
            <div class="playlist-content">
              <ion-thumbnail class="saved-playlist-thumbnail">
                <img src="assets/quick-picks-pics/yorushika-magiclantern-album.jpeg" alt="your playlist 3">
              </ion-thumbnail>
              <ion-label>
                <h4>Moody</h4>
                <p>Blues</p>
              </ion-label>
            </div>
          </ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="saved-playlist">
            <div class="playlist-content">
              <ion-thumbnail class="saved-playlist-thumbnail">
                <img src="assets/quick-picks-pics/yorushika-matasaburo.jpg" alt="your playlist 4">
              </ion-thumbnail>
              <ion-label>
                <h4>Sol</h4>
                <p>Rovultion</p>
              </ion-label>
            </div>
          </ion-button>
        </swiper-slide>
        <swiper-slide>
          <ion-button class="saved-playlist">
            <div class="playlist-content">
              <ion-thumbnail class="saved-playlist-thumbnail">
                <img src="assets/quick-picks-pics/yorushika-plagiarism-album.png" alt="your playlist 1">
              </ion-thumbnail>
              <ion-label>
                <h4>J-Poppers</h4>
                <p>Rovultion</p>
              </ion-label>
            </div>
          </ion-button>
        </swiper-slide>
      </swiper-container>
    </div>
  </div>
</ion-content>